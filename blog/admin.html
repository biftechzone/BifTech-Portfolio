<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>BifTech Blog | Admin</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Inter,system-ui,sans-serif;
  background:#020617;
  color:#e5e7eb;
}
.box{
  max-width:900px;
  margin:60px auto;
  padding:30px;
  border:1px solid #1e293b;
  border-radius:14px;
}
input,textarea{
  width:100%;
  padding:12px;
  margin-bottom:12px;
  background:#020617;
  border:1px solid #1e293b;
  border-radius:8px;
  color:#e5e7eb;
}
textarea{min-height:180px}
button{
  padding:10px 16px;
  border:none;
  border-radius:8px;
  font-weight:600;
  cursor:pointer;
}
.primary{background:#38bdf8;color:#020617}
.ghost{
  background:transparent;
  border:1px solid #1e293b;
  color:#94a3b8;
}
.ghost:hover{border-color:#38bdf8;color:#38bdf8}
.hidden{display:none}
pre{
  background:#020617;
  border:1px solid #1e293b;
  padding:15px;
  border-radius:10px;
  overflow:auto;
  font-size:.85rem;
}
.top{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
</style>
</head>
<body>

<!-- LOGIN -->
<div class="box hidden" id="login">
  <h2>Admin Giriş</h2>
  <input type="password" id="pw" placeholder="Şifre">
  <button class="primary" onclick="login()">Giriş</button>
</div>

<!-- ADMIN -->
<div class="box hidden" id="admin">

<div class="top">
  <h2>Post Oluştur</h2>
  <button class="ghost" onclick="logout()">Çıkış</button>
</div>

<input id="title" placeholder="Post başlığı">
<input id="slug" placeholder="Slug (ornegin: vercel-domain)">
<input id="tags" placeholder="Etiketler (virgülle)">
<textarea id="content" placeholder="Post içeriği"></textarea>

<button class="primary" onclick="generate()">JSON Üret</button>

<h3 style="margin-top:30px">Oluşan JSON</h3>
<pre id="output">{ }</pre>

<button class="ghost" onclick="copyJSON()">JSON'u Kopyala</button>

</div>

<script>
const PASS="biftech123";
const KEY="biftech_admin";

const loginBox=document.getElementById("login");
const adminBox=document.getElementById("admin");

if(localStorage.getItem(KEY)){
  adminBox.classList.remove("hidden");
}else{
  loginBox.classList.remove("hidden");
}

function login(){
  if(document.getElementById("pw").value===PASS){
    localStorage.setItem(KEY,"1");
    location.reload();
  }else alert("Şifre yanlış");
}
function logout(){
  localStorage.removeItem(KEY);
  location.reload();
}

function generate(){
  const title=titleEl.value.trim();
  const slug=slugEl.value.trim();
  const content=contentEl.value.trim();
  const tags=tagsEl.value.split(",").map(t=>t.trim()).filter(Boolean);

  if(!title||!slug||!content){
    alert("Başlık, slug ve içerik zorunlu");
    return;
  }

  const json={
    id:slug,
    title:title,
    date:new Date().toLocaleDateString("tr-TR"),
    tags:tags,
    content:content
  };

  output.textContent=JSON.stringify(json,null,2);
}

function copyJSON(){
  navigator.clipboard.writeText(output.textContent);
  alert("JSON kopyalandı");
}

const titleEl=document.getElementById("title");
const slugEl=document.getElementById("slug");
const contentEl=document.getElementById("content");
const output=document.getElementById("output");
</script>

</body>
</html>
